import{r,R as v,u as w,j as a}from"./index-BDDrCBjG.js";import{G as c}from"./iconBase-Cgg_vD4y.js";import{u as b}from"./user-DSAdG6uF.js";import{Q as j,B as l,H as d}from"./ReactToastify-X-PYeDry.js";import{a as S}from"./axios-BimPEqV4.js";function y(s){return c({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(s)}function N(s){return c({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634 471L36 3.51A16 16 0 0 0 13.51 6l-10 12.49A16 16 0 0 0 6 41l598 467.49a16 16 0 0 0 22.49-2.49l10-12.49A16 16 0 0 0 634 471zM296.79 146.47l134.79 105.38C429.36 191.91 380.48 144 320 144a112.26 112.26 0 0 0-23.21 2.47zm46.42 219.07L208.42 260.16C210.65 320.09 259.53 368 320 368a113 113 0 0 0 23.21-2.46zM320 112c98.65 0 189.09 55 237.93 144a285.53 285.53 0 0 1-44 60.2l37.74 29.5a333.7 333.7 0 0 0 52.9-75.11 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64c-36.7 0-71.71 7-104.63 18.81l46.41 36.29c18.94-4.3 38.34-7.1 58.22-7.1zm0 288c-98.65 0-189.08-55-237.93-144a285.47 285.47 0 0 1 44.05-60.19l-37.74-29.5a333.6 333.6 0 0 0-52.89 75.1 32.35 32.35 0 0 0 0 29.19C89.72 376.41 197.08 448 320 448c36.7 0 71.71-7.05 104.63-18.81l-46.41-36.28C359.28 397.2 339.89 400 320 400z"},child:[]}]})(s)}const A=S.create({baseURL:"https://backend-cohort2b-practice-a27h.vercel.app"}),M=()=>{let[s,m]=r.useState(""),[u,p]=r.useState(""),[i,n]=r.useState(!1),[z,h]=v(b),g=w();r.useRef("");const x=()=>l.dismiss(),f=()=>l.success("Logged in Successfully!!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:d}),o=e=>l.info(e,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:d});function C(e){e.preventDefault(),o("please wait..."),A.post("/api/login",{email:s,password:u},{headers:{"Access-Control-Allow-Origin":"*"}}).then(t=>{t.data.status?(f(),h({isLoggedIn:!0,data:t.data.data}),setTimeout(()=>{g("/blog")},5e3)):(x(),o("Wrong email or password"))}).catch(t=>{o(t.message)})}return a.jsxs("div",{className:"flexCol mt-5 min-h-[70vh] ",children:[a.jsx("h1",{children:"Login"}),a.jsxs("form",{autoComplete:"true",className:"flexCol p-5 rounded shadow-lg  ",onSubmit:e=>C(e),children:[a.jsxs("fieldset",{className:"flexColStart gap-4",children:[a.jsx("label",{htmlFor:"email",children:"Email"}),a.jsx("input",{onChange:e=>m(e.target.value),required:!0,className:"inputStyle",placeholder:"example@gmail.com",type:"email",name:"email",id:"email"})]}),a.jsxs("fieldset",{className:"flexColStart gap-4",children:[a.jsxs("label",{className:"flexStart gap-3 ",htmlFor:"password",children:["Password ",i?a.jsx(y,{className:"text-green-600",onClick:()=>n(e=>!e)}):a.jsx(N,{onClick:()=>n(e=>!e)})," "]}),a.jsx("input",{onChange:e=>p(e.target.value),required:!0,className:"inputStyle",placeholder:"Your password",type:i?"text":"password",name:"password",id:"password"})]}),a.jsx("button",{className:"mt-5 border border-1 py-1 px-3 rounded hover:bg-green-500 hover:text-white ",type:"submit",children:"Login"})]}),a.jsx(j,{})]})};export{M as default};
