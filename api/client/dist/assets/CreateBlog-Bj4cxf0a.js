import{a as n,u as m,j as e}from"./index-BDDrCBjG.js";import{c as u,a as s,F as h,b as x,d as o}from"./index.esm-CaE4GhmE.js";import{a as p}from"./axios-BimPEqV4.js";import{Q as b,B as r,H as f}from"./ReactToastify-X-PYeDry.js";import{u as g}from"./user-DSAdG6uF.js";import"./hoist-non-react-statics.cjs-DQogQWOa.js";const j=p.create({baseURL:"https://backend-cohort2b-practice-a27h.vercel.app"}),y=u().shape({title:s().min(2,"Too Short!").max(50,"Too Long!").required("Required"),body:s().min(2,"Too Short!").required("Required"),author:s().required("Required")}),q=()=>{let i=n(g),d=m();const a=t=>r.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:f}),c=()=>r.dismiss();return e.jsxs("div",{className:"flexCol mt-5 min-h-[70vh] ",children:[e.jsx("h1",{children:"Create Blog"}),e.jsx(h,{initialValues:{title:"",body:"",author:""},validationSchema:y,onSubmit:t=>{a("Please wait..."),j.post("/api/blog",{...t,email:i.data.email},{headers:{"Access-Control-Allow-Origin":"*"}}).then(l=>{c(),a("Blog Created Successfully!!"),setTimeout(()=>{d("/blog")},5e3)}).catch(l=>{a(l.message)})},children:({errors:t,touched:l})=>e.jsxs(x,{className:"flexCol p-5 rounded shadow-lg  ",children:[e.jsxs("fieldset",{className:"flexColStart gap-4",children:[e.jsx("label",{htmlFor:"title",children:"Title"}),e.jsx(o,{placeholder:"Your title",className:"inputStyle",id:"title",name:"title"})]}),t.title&&l.title?e.jsx("div",{className:"text-left text-red-700 w-full text-[12px]",children:t.title}):null,e.jsxs("fieldset",{className:"flexColStart gap-4",children:[e.jsx("label",{htmlFor:"author",children:"Author"}),e.jsx(o,{placeholder:"Your author",className:"inputStyle",id:"author",name:"author"})]}),t.author&&l.author?e.jsx("div",{className:"text-left text-red-700 w-full text-[12px]",children:t.author}):null,e.jsxs("fieldset",{className:"flexColStart gap-4",children:[e.jsx("label",{htmlFor:"body",children:"Body"}),e.jsx(o,{placeholder:"Your body",className:"inputStyle",id:"body",name:"body",as:"textarea"})]}),t.body&&l.body?e.jsx("div",{className:"text-left text-red-700 w-full text-[12px]",children:t.body}):null,e.jsx("button",{className:"mt-5 border border-1 py-1 px-3 rounded hover:bg-green-500 hover:text-white ",type:"submit",children:"Create"})]})}),e.jsx(b,{})]})};export{q as default};
